# ADXL345 가속도 센서용 리눅스 커널 드라이버 개발

## 프로젝트 개요
Raspberry Pi에 연결된 ADXL345 센서를 위한 리눅스 커널 디바이스 드라이버를 개발합니다. 센서는 I2C 인터페이스를 통해 연결되며, 드라이버는 사용자 공간에서 센서 데이터를 읽을 수 있도록 `read()` 인터페이스를 제공합니다.

---

## ✅ 요구사항 (Requirements)

### 1. 하드웨어 연결
- Raspberry Pi와 ADXL345 센서를 I2C로 연결
- I2C 주소: `0x53`

### 2. 드라이버 기능
- `platform_driver` 또는 `i2c_driver` 구조 사용
- `probe()`에서 센서 초기화 수행 (POWER_CTL 레지스터 설정)
- `read()` 호출 시 X, Y, Z 축의 가속도 값을 읽어 사용자 공간에 전달
- `open()` 및 `release()` 함수 구현

### 3. 디바이스 트리 설정
- `Device Tree Overlay`를 통해 센서 노드 등록
- 드라이버가 해당 노드를 인식하고 바인딩되도록 설정

### 4. 사용자 공간 테스트 프로그램
- `/dev/adxl345`에 대해 `open()`, `read()`를 수행하는 C 프로그램 작성
- 읽은 가속도 값을 콘솔에 출력

### 5. 디버깅 및 로그
- `dmesg`에서 드라이버 로딩, 센서 초기화, 데이터 읽기 로그 확인 가능해야 함
- `printk()`를 적절히 활용

---

## 산출물 (Deliverables)

| 항목 | 설명 |
|------|------|
| 1. 커널 모듈 소스 코드 | `adxl345_driver.c` |
| 2. Device Tree Overlay | `adxl345-overlay.dts` |
| 3. 사용자 공간 테스트 코드 | `adxl345_test.c` |
| 4. README 문서 | 빌드 방법, 설치 방법, 테스트 방법 포함 |
| 5. dmesg 로그 캡처 | 드라이버 로딩 및 센서 동작 확인 로그 |

---

## 일정 제안

| 단계 | 기간 | 목표 |
|------|------|------|
| 1. 하드웨어 연결 및 확인 | 1일 | I2C 통신 확인 (`i2cdetect`, `i2cget`) |
| 2. 드라이버 개발 | 3일 | 커널 모듈 작성 및 테스트 |
| 3. Device Tree 설정 | 1일 | Overlay 적용 및 드라이버 바인딩 |
| 4. 사용자 공간 앱 개발 | 1일 | 센서 데이터 읽기 |
| 5. 문서 및 산출물 정리 | 1일 | README 및 로그 정리 |
