# 0 "arch/arm64/boot/dts/overlays/pimidi-overlay.dts"
# 0 "<built-in>"
# 0 "<command-line>"
# 1 "arch/arm64/boot/dts/overlays/pimidi-overlay.dts"
# 16 "arch/arm64/boot/dts/overlays/pimidi-overlay.dts"
/dts-v1/;
/plugin/;

# 1 "./scripts/dtc/include-prefixes/dt-bindings/gpio/gpio.h" 1
# 20 "arch/arm64/boot/dts/overlays/pimidi-overlay.dts" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/irq.h" 1
# 21 "arch/arm64/boot/dts/overlays/pimidi-overlay.dts" 2

/ {
 compatible = "brcm,bcm2835";

 fragment@0 {
  target = <&i2c_arm>;
  __overlay__ {
   status = "okay";

   pimidi_ctrl: pimidi_ctrl@20 {
    compatible = "blokaslabs,pimidi";

    reg = <0x20>;
    status = "okay";

    interrupt-parent = <&gpio>;
    interrupts = <23 8>;
    interrupt-names = "data_ready";
    interrupt-controller;
    #interrupt-cells = <2>;

    data-ready-gpios = <&gpio 23 (1 | 16)>;
    reset-gpios = <&gpio 22 (1 | 16)>;
   };
  };
 };

 __overrides__ {
  sel = <&pimidi_ctrl>,"reg:0{0=0x20,1=0x21,2=0x22,3=0x23}",
   <&pimidi_ctrl>,"data-ready-gpios:4{0=23,1=5,2=6,3=27}",
   <&pimidi_ctrl>,"interrupts:0{0=23,1=5,2=6,3=27}";
 };
};
